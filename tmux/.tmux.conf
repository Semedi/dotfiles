# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# Minimal yet modern tmux configuration (improved)
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

# 1. Prefix key settings - change from Ctrl-b to Ctrl-a for screen style
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# 2. Toggle mouse mode with visual feedback (on/off)
set -g mouse off
bind m if -F '#{mouse}' \
  'set -g mouse off; display-message "Mouse OFF"' \
  'set -g mouse on; display-message "Mouse ON"'

# 3. Vim-style pane navigation
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# 4. Resize panes with Shift + H/J/K/L by 5 cells
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# 5. Copy mode with Vi keys
set -g mode-keys vi
bind Escape copy-mode

# 6. Copy to system clipboard in vi copy mode (requires xclip)
bind-key -T copy-mode-vi y send -X copy-pipe-and-cancel "xclip -selection clipboard -in"

# 7. Custom status bar with modern, clear style
set -g status on
set -g status-interval 5
set -g status-justify centre

# Colors inspired by modern themes (gruvbox / nord adapted)
set -g status-bg "#282c34"
set -g status-fg "#abb2bf"

set -g status-left-length 20
set -g status-left "#[fg=#61afef,bold] #S #[default]"

set -g status-right-length 80
set -g status-right "#[fg=#98c379] %Y-%m-%d %H:%M #[default]"

# 8. Pane border styling for clear visibility
set -g pane-border-style fg="#5c6370"
set -g pane-active-border-style fg="#61afef"

# 9. Enable true color support in terminal (24-bit color)
set-option -ga terminal-features ",xterm-256color:Tc"

# 10. Set escape-time to 10ms for better responsiveness
set -s escape-time 10

# 11. Reload tmux config with Prefix + r and show confirmation message
bind r source-file ~/.tmux.conf \; display-message "Tmux config reloaded!"

# 12. Plugins via TPM (Tmux Plugin Manager)
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-resurrect'       # Save and restore sessions
set -g @plugin 'tmux-plugins/tmux-continuum'       # Continuous saving
set -g @plugin 'tmux-plugins/tmux-sensible'         # Sensible defaults

# 13. Initialize TPM (keep this line at the very bottom)
run '~/.tmux/plugins/tpm/tpm'
